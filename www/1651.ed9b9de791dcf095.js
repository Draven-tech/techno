"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1651],{1651:(x,h,r)=>{r.r(h),r.d(h,{ChatboxPageModule:()=>b});var l=r(177),c=r(4341),o=r(4742),d=r(70),e=r(4438);const p=(t,a)=>({sent:t,received:a});function m(t,a){if(1&t&&(e.j41(0,"div",9)(1,"p"),e.EFF(2),e.k0s(),e.j41(3,"span",10),e.EFF(4),e.nI1(5,"date"),e.k0s()()),2&t){const s=a.$implicit;e.Y8G("ngClass",e.l_i(6,p,"You"===s.sender,"You"!==s.sender)),e.R7$(2),e.JRh(s.content),e.R7$(2),e.JRh(e.i5U(5,3,s.time,"shortTime"))}}const f=[{path:"",component:(()=>{var t;class a{constructor(n){this.router=n,this.thread=null,this.newMessage=""}ngOnInit(){const n=this.router.getCurrentNavigation();n&&n.extras.state&&n.extras.state.thread?this.thread=n.extras.state.thread:console.warn("No thread data found in navigation state.")}sendMessage(){this.newMessage.trim()&&(this.thread.messages.push({sender:"You",content:this.newMessage.trim(),time:new Date}),this.newMessage="",setTimeout(()=>this.scrollToBottom(),100))}scrollToBottom(){this.content.scrollToBottom(300)}}return(t=a).\u0275fac=function(n){return new(n||t)(e.rXU(d.Ix))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-chatbox"]],viewQuery:function(n,i){if(1&n&&e.GBs(o.W9,5),2&n){let g;e.mGM(g=e.lsd())&&(i.content=g.first)}},decls:16,vars:4,consts:[["slot","start"],["defaultHref","/messages"],[3,"scrollEvents"],[1,"chat-container"],["class","message-bubble",3,"ngClass",4,"ngFor","ngForOf"],[1,"input-container"],["placeholder","Type your message...",1,"message-input",3,"ngModelChange","ngModel"],[3,"click"],["name","send"],[1,"message-bubble",3,"ngClass"],[1,"message-time"]],template:function(n,i){1&n&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.nrm(3,"ion-back-button",1),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.k0s()()(),e.j41(6,"ion-content",2)(7,"div",3),e.DNE(8,m,6,9,"div",4),e.k0s()(),e.j41(9,"ion-footer")(10,"ion-toolbar")(11,"div",5)(12,"ion-input",6),e.mxI("ngModelChange",function(u){return e.DH7(i.newMessage,u)||(i.newMessage=u),u}),e.k0s(),e.j41(13,"ion-button",7),e.bIt("click",function(){return i.sendMessage()}),e.j41(14,"ion-icon",8),e.EFF(15,"Send"),e.k0s()()()()()),2&n&&(e.R7$(5),e.JRh((null==i.thread?null:i.thread.name)||"Chat"),e.R7$(),e.Y8G("scrollEvents",!0),e.R7$(2),e.Y8G("ngForOf",null==i.thread?null:i.thread.messages),e.R7$(4),e.R50("ngModel",i.newMessage))},dependencies:[l.YU,l.Sq,c.BC,c.vS,o.Jm,o.QW,o.W9,o.M0,o.eU,o.iq,o.$w,o.BC,o.ai,o.Gw,o.el,l.vh],styles:[".chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:15px;gap:10px}.message-bubble[_ngcontent-%COMP%]{max-width:70%;padding:10px 15px;border-radius:20px;font-size:14px;position:relative;word-wrap:break-word}.sent[_ngcontent-%COMP%]{align-self:flex-end;background-color:var(--ion-color-primary);color:#fff}.received[_ngcontent-%COMP%]{align-self:flex-start;background-color:var(--ion-color-light);color:#fff}.message-time[_ngcontent-%COMP%]{font-size:10px;margin-top:5px;text-align:right;display:block}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:5px 10px}.message-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;font-size:16px;padding:10px}ion-button[_ngcontent-%COMP%]{margin-left:10px}ion-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--ion-color-primary)}"]}),a})()}];let C=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[d.iI.forChild(f),d.iI]}),a})(),b=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[l.MD,c.YN,o.bv,C]}),a})()}}]);